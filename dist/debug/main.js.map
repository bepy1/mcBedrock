{"version":3,"sources":["../../scripts/main.ts"],"sourcesContent":["import {\r\n  world,\r\n  system,\r\n  Entity,\r\n  Player,\r\n  ItemStack,\r\n  ItemTypes,\r\n  EntityInventoryComponent,\r\n  EnchantmentTypes,\r\n  Vector3,\r\n  VectorXZ,\r\n  BlockTypes,\r\n} from \"@minecraft/server\";\r\n\r\nfunction getPlayerForwardDirection(player: Player) {\r\n  const rotation = player.getRotation();\r\n  const yaw = rotation.y * (Math.PI / 180);\r\n  const pitch = rotation.x * (Math.PI / 180);\r\n\r\n  const x = -Math.sin(yaw) * Math.cos(pitch);\r\n  const z = Math.cos(yaw) * Math.cos(pitch);\r\n\r\n  return { x, z };\r\n}\r\n\r\nsystem.runInterval(() => {\r\n  for (const player of world.getPlayers()) {\r\n    const location = player.location;\r\n    const direction = getPlayerForwardDirection(player);\r\n    const blockBelow = player.dimension.getBlock({\r\n      x: location.x,\r\n      y: location.y + 0.9325,\r\n      z: location.z,\r\n    });\r\n\r\n    if (blockBelow && blockBelow.typeId === \"minecraft:red_carpet\") {\r\n      player.applyKnockback({ x: direction.x * 7, z: direction.z * 7 }, 1.25);\r\n    }\r\n    if (blockBelow && blockBelow.typeId === \"minecraft:lime_carpet\") {\r\n      player.applyKnockback({ x: 0, z: 0 }, 3);\r\n    }\r\n  }\r\n});\r\n\r\n/*\r\nfunction knockbackEveryFiveSeconds() {\r\n  const players = world.getPlayers();\r\n  for (const player of players) {\r\n    if (system.currentTick % 100 === 0) {\r\n      player.applyKnockback({ x: 0, z: 0 }, 0.5);\r\n    }\r\n  }\r\n  system.run(knockbackEveryFiveSeconds);\r\n}\r\n\r\nsystem.run(knockbackEveryFiveSeconds);\r\n*/\r\n"],"mappings":";AAAA;AAAA,EACE;AAAA,EACA;AAAA,OAUK;AAEP,SAAS,0BAA0B,QAAgB;AACjD,QAAM,WAAW,OAAO,YAAY;AACpC,QAAM,MAAM,SAAS,KAAK,KAAK,KAAK;AACpC,QAAM,QAAQ,SAAS,KAAK,KAAK,KAAK;AAEtC,QAAM,IAAI,CAAC,KAAK,IAAI,GAAG,IAAI,KAAK,IAAI,KAAK;AACzC,QAAM,IAAI,KAAK,IAAI,GAAG,IAAI,KAAK,IAAI,KAAK;AAExC,SAAO,EAAE,GAAG,EAAE;AAChB;AAEA,OAAO,YAAY,MAAM;AACvB,aAAW,UAAU,MAAM,WAAW,GAAG;AACvC,UAAM,WAAW,OAAO;AACxB,UAAM,YAAY,0BAA0B,MAAM;AAClD,UAAM,aAAa,OAAO,UAAU,SAAS;AAAA,MAC3C,GAAG,SAAS;AAAA,MACZ,GAAG,SAAS,IAAI;AAAA,MAChB,GAAG,SAAS;AAAA,IACd,CAAC;AAED,QAAI,cAAc,WAAW,WAAW,wBAAwB;AAC9D,aAAO,eAAe,EAAE,GAAG,UAAU,IAAI,GAAG,GAAG,UAAU,IAAI,EAAE,GAAG,IAAI;AAAA,IACxE;AACA,QAAI,cAAc,WAAW,WAAW,yBAAyB;AAC/D,aAAO,eAAe,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,CAAC;AAAA,IACzC;AAAA,EACF;AACF,CAAC;","names":[],"file":"../scripts/main.js"}